
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id() @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  firstName     String?
  lastName      String?
  email         String
  hash          String
  addressWallet String?

  elections Election[]

  @@map("users") // gán cho biến môi trường
}

model Election {
  id               String  @id() @default(uuid())
  mainQuestion     String?
  description      String?
  nameOrganization String?

  userId     String
  user       User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  candidates Candidate[]

  @@map("elections")
}

model Candidate {
  id          String   @id() @default(uuid())
  name        String
  description String
  image       String?
  candidateId String
  election    Election @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate")
}

enum Role {
  SUPER_USER
  USER
}
